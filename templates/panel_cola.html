...
<script>
  async function cargarCola() {
    try {
      const response = await fetch("/api/cola_lavado");
      const data = await response.json();
      const tbodyCola = document.getElementById("tabla-cola");
      const tbodyProceso = document.getElementById("tabla-proceso");
      tbodyCola.innerHTML = "";
      tbodyProceso.innerHTML = "";

      let i = 1, j = 1;
      data.forEach(item => {
        const estado = item.estado.toLowerCase();  // "en_cola" o "en_proceso"
        const asignado = item.asignado_a && item.asignado_a !== "-";

        if (estado === "en_proceso" && asignado) {
          const fila = document.createElement("tr");
          fila.innerHTML = `
            <td>${j++}</td>
            <td class="status-PRO"><strong>${item.codigo_vehiculo}</strong></td>
            <td>${item.clasificacion}</td>
            <td>${item.asignado_a}</td>
            <td>${item.fecha}</td>
          `;
          tbodyProceso.appendChild(fila);
        } else {
          const fila = document.createElement("tr");
          fila.innerHTML = `
            <td>${i++}</td>
            <td class="status-EN"><strong>${item.codigo_vehiculo}</strong></td>
            <td>${item.clasificacion}</td>
            <td>${item.fecha}</td>
          `;
          tbodyCola.appendChild(fila);
        }
      });
    } catch (error) {
      console.error("Error al cargar la cola:", error);
    }
  }

  cargarCola();
  setInterval(cargarCola, 30000);
  document.getElementById("anio-actual").textContent = new Date().getFullYear();
</script>
